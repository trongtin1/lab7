<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Problem 9</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
</head>
<style type="text/css">
    form {
        margin-left: 350px;
    }

    span {
        color: red;
        display: block;
        padding: 5px 0px;
        font-weight: bold;
    }
</style>

<body>
    <form id="myForm" onsubmit="submitForm(); return false;">
        <table cellpadding="1px" cellspacing="1px">
            <tr>
                <td>
                    <table border="5px" cellspacing="5px" cellpadding="5px">
                        <tr>
                            <td style="text-align: center;"><label for="name"><b>Fullname*</b></label></td>
                            <td><input type="text" id="name" name="name" style="width: 500px;"
                                    placeholder="Enter your full name">
                                <span id="username_error"></span>
                            </td>

                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="email"><b>Email*</b></label></td>
                            <td><input type="email" id="email" name="email" style="width: 500px;"
                                    placeholder="Enter your email">
                                <span id="email_error"></span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="password"> <b>Password*</b></label></td>
                            <td><input type="password" id="password" name="password" placeholder="Enter your password"
                                    style="width: 500px;">
                                <span id="password_error"></span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="confirm-password"><b>Confirm
                                        Password*</b></label></td>
                            <td><input type="password" id="confirm-password" name="confirm-password"
                                    placeholder="Enter your password again" style="width: 500px;">
                                <span id="repassword_error"></span>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="phone-number"> <b>Phone Number</b> </label></td>
                            <td><input type="text" name="phone-number" required style="width: 500px;"
                                    placeholder="Enter your phone number(only numbers)"></td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="address"><b>Address</b></label></td>
                            <td><textarea id="address" style="width: 500px; height: 80px; "></textarea></td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="city"><b>City</b><label></td>
                            <td><input type="text" name="city" required placeholder="Enter your city"><b>State</b>
                                <input type="text" name="state" required placeholder="Enter your State"
                                    style="width: 250px;">
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center;">
                                <label for="Zip-code"><b>Zip/Postal Code</b></label>
                            </td>
                            <td><input type="text" name="Zip-code" required placeholder="Enter your Zip/Postal Code"
                                    style="width: 500px;"></td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="country"><b>Country</b></label></td>
                            <td>
                                <select id="country" required name="country" style="width: 500px;">
                                    <option value="">Select Country</option>
                                    <option value="us">United States</option>
                                    <option value="ca">Canada</option>
                                    <option value="uk">United Kingdom</option>
                                    <option value="au">Australia</option>
                                    <option value="other">VietNam</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="birthdate"><b>Birthdate</b></label></td>
                            <td><input type="date" id="birthdate" required name="birthdate" placeholder="mm/dd/yyyy"
                                    style="width: 500px;"></td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="gender"><b>Gender</b></label></td>
                            <td>
                                <select id="gender" name="gender" style="width: 500px;">
                                    <option value="">Select Gender</option>
                                    <option value="male">Male</option>
                                    <option value="female">Female</option>
                                    <option value="other">Other</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="starting-date"><b>Starting date</b></label></td>
                            <td>
                                <input type="radio" name="starting-date"><label>Spring</label>
                                <input type="radio" name="starting-date"><label>Summer</label>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align: center;"><label for="comments"><b>Comments</b></label></td>
                            <td><textarea style="width: 500px; height: 100px;"
                                    placeholder="Please sent more information"></textarea></td>
                        </tr>
                        <tr>
                            <td colspan="2" style="text-align: center;"><input type="submit"
                                    onclick="return validate();" id="btn" name="btn" value="Submit" /></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </form>
    <script src="https://code.jquery.com/jquery-3.7.0.slim.min.js"
        integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
    <script>
        /* VALIDATE FORM
    * 1. Username không được trống, tối thiểu 5 ký tự, ko chứa ký tự đặc biệt
    * 2. Mật khẩu không được trống, tối thiểu 6 ký tự
    * 3. Mật khẩu nhập lại phải trùng
    * 4. Email phải đúng định dạng, va bat buoc nhap
    */
        function submitForm() {
            var flag = true;
            if (flag) {

                alert('Input Successful');

            }
        }

        // Lấy giá trị của một input
        function getValue(id) {
            let inputEl = document.getElementById(id);
            return inputEl ? inputEl.value.trim() : '';
        }
        // Hiển thị lỗi
        function showError(key, mess) {
            let errorSpan = document.getElementById(key + '_error');
            errorSpan.textContent = mess;
            errorSpan.style.display = "block";
        }

        function validate() {
            var flag = true;

            // 1. username
            var username = getValue('name');
            if (username == '' || username.length < 2 || !/^[a-zA-Z0-9]+$/.test(username)) {
                flag = false;
                if (username.length < 2) {
                    showError('username', 'Please input your name');
                } else {
                    showError('username', '');
                }
            }

            // 2. password
            var password = getValue('password');
            var repassword = getValue('confirm-password');
            if (password == '' || password.length < 6) {
                flag = false;
                showError('password', 'Please input your password(min-lenght=6)');
            } else {
                showError('password', '');
            }
            // 3.repassword
            if (password != repassword) {
                showError('repassword', 'It does not match your password')
            } else {
                showError('repassword', '');
            }

            // 4. Email
            var email = getValue('email');
            var mailformat = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            if (!mailformat.test(email)) {
                flag = false;

                showError('email', 'Please input your email');
            } else {
                showError('email', '');
            }

            return flag;
        }

    </script>
</body>

</html>